<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>We’re Closed</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
            background-color: #f8f8f8;
            color: #333;
            text-align: center;
        }
        h1 {
            font-size: 3em;
        }
        p {
            font-size: 1.2em;
        }
    </style>
</head>
<body>
    <div>
        <h1>We’re Closed</h1>
        <p>Our website is currently unavailable. Please visit us during business hours.</p>
    </div>

    <button id="startServerButton">Launch Server Now</button>
    <p id="message"></p>

    <script>
        const API_URL = 'https://t3agimzfzd.execute-api.ap-southeast-1.amazonaws.com/prod/server-start';
        const button = document.getElementById('startServerButton');
        const message = document.getElementById('message');

        button.addEventListener('click', async () => {
            button.disabled = true;
            message.textContent = 'Attempting to launch server... please wait 1-2 minutes and refresh.';

            try {
                const response = await fetch(API_URL, {
                    method: 'POST', // Use the method you configured (POST or GET)
                    mode: 'cors'
                });

                if (response.ok) {
                    // The API call was successful, even if the server was already running
                    message.textContent = 'Server launch signal sent successfully! It may take a minute or two to fully start. You can try refreshing the main site in a moment.';
                } else {
                    // Handle API error
                    const errorBody = await response.text();
                    message.textContent = `Launch failed (Status: ${response.status}). Details: ${errorBody}`;
                }

            } catch (error) {
                console.error('Fetch error:', error);
                message.textContent = 'An error occurred while connecting to the launch service.';
            } finally {
                button.disabled = false;
            }
        });
    </script>
</body>
</html>
